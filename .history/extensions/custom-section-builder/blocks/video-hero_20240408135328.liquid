{% schema %}
{
  "name": "Video Hero",
  "class": "video-hero",
  "target": "section",
  "disabled_on": {
    "groups": ["header", "footer"]
  },
  "settings": [
    {
      "type": "header",
      "content": "Video Settings"
    },
    {
      "type": "video",
      "id": "video",
      "label": "Standard Video",
      "info": "Upload a video file (leave blank if using an external video)."
    },
    {
      "type": "text",
      "id": "video_url",
      "label": "External Video URL",
      "info": "Enter the YouTube/Vimeo video URL (leave blank if uploading a video).",
      "default": "https://www.youtube.com/watch?v=_9VUPq3SxOc"
    },
    {
      "type": "range",
      "id": "video_hero_height",
      "label": "Video Height",
      "min": 50,
      "max": 100,
      "step": 5,
      "unit": "vh",
      "default": 80
    },
    {
      "type": "video",
      "id": "mobile_video",
      "label": "Vertical Video for Mobile",
      "info": "Preferably in a vertical (9:16) format."
    },
    {
      "type": "checkbox",
      "id": "enable_mobile_video",
      "label": "Use Vertical Video on Mobile",
      "default": false,
      "info": "Switches to the vertical video for mobile viewers."
    },
    {
      "type": "image_picker",
      "id": "cover_image",
      "label": "Cover Image"
    },
    {
      "type": "text",
      "id": "description",
      "label": "Video Description - ALT Text"
    },
    {
      "type": "select",
      "id": "video_behavior",
      "label": "Video Behavior",
      "options": [
        {
          "value": "autoplay",
          "label": "Autoplay"
        },
        {
          "value": "cover",
          "label": "Show Cover Image"
        }
      ],
      "default": "autoplay"
    },
    {
      "type": "header",
      "content": "General Settings"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Main Title",
      "default": "Your Main Title Here"
    },
    {
      "type": "color",
      "id": "heading_color",
      "label": "Main Title Color",
      "default": "#000000"
    },
    {
      "type": "text",
      "id": "subtext",
      "label": "Subtitle",
      "default": "Your Subtitle Here"
    },
    {
      "type": "color",
      "id": "subtext_color",
      "label": "Subtitle Color",
      "default": "#000000"
    },
    {
      "type": "header",
      "content": "Button Settings"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Button Text",
      "default": "Learn More"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "Button Link",
      "default": "/"
    },
    {
      "type": "color",
      "id": "button_color",
      "label": "Button Color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "button_text_color",
      "label": "Button Text Color",
      "default": "#FFFFFF"
    },
    {
      "type": "color",
      "id": "button_hover_color",
      "label": "Button Hover Color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "button_hover_text_color",
      "label": "Button Hover Text Color",
      "default": "#FFFFFF"
    },
    {
      "type": "checkbox",
      "id": "enable_rounded_button",
      "label": "Rounded Button",
      "default": false,
      "info": "Toggle to make the button oval-shaped."
    },
    {
      "type": "header",
      "content": "Mobile Display Settings"
    },
    {
      "type": "checkbox",
      "id": "show_heading_on_mobile",
      "label": "Display Main Title on Mobile",
      "default": false
    },
    {
      "type": "checkbox",
      "id": "show_subtext_on_mobile",
      "label": "Display Subtitle on Mobile",
      "default": false
    },
    {
      "type": "checkbox",
      "id": "show_button_on_mobile",
      "label": "Display Button on Mobile",
      "default": true
    },
    {
      "type": "header",
      "content": "Layout Settings"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "label": "Padding Top",
      "default": 5
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "label": "Padding Bottom",
      "default": 5
    }
  ]
}
{% endschema %}


{{ 'video-hero.css' | asset_url | stylesheet_tag }}
<script src="{{ 'video-hero.js' | asset_url }}" defer></script>

<div class="adedayo-video-hero-L8GH7D-container" style="padding-top: {{ block.settings.padding_top }}px; padding-bottom: {{ block.settings.padding_bottom }}px; height: {{ block.settings.video_hero_height }}vh;">
  <div class="adedayo-video-hero-P4FK2S-wrapper{% if block.settings.enable_mobile_video %} adedayo-video-hero-T9JN6M-hide-on-mobile{% endif %}">
    {% assign adedayo_video_hero_W2QR7Z_video_to_display = block.settings.video %}
    {% assign adedayo_video_hero_E5XB1C_cover_image_to_display = block.settings.cover_image %}
    
    {% if block.settings.video_url != blank %}
      <iframe class="adedayo-video-hero-U6VY3H-background" width="100%" height="100%" src="{{ block.settings.video_url | prepend: 'https://' }}" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    {% endif %}
    
    {% if adedayo_video_hero_E5XB1C_cover_image_to_display != blank and block.settings.video_behavior == 'cover' %}
      <div class="adedayo-video-hero-K9LM4N-cover-image-container">
        <img src="{{ adedayo_video_hero_E5XB1C_cover_image_to_display | img_url: 'master' }}" alt="Cover Image" class="adedayo-video-hero-F8GJ3D-poster"/>
        <button class="adedayo-video-hero-R1HT6S-play-button">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="adedayo-video-hero-N5QZ7X-icon adedayo-video-hero-C2BV9M-play">
            <path fill="currentColor" d="M8 5v14l11-7z"/>
          </svg>
        </button>
      </div>
    {% endif %}
    
    {% if adedayo_video_hero_W2QR7Z_video_to_display %}
      <video class="adedayo-video-hero-Y4AK1J-background" playsinline{% if block.settings.video_behavior == 'autoplay' %} autoplay{% endif %} muted loop>
        {% for source in adedayo_video_hero_W2QR7Z_video_to_display.sources %}
          <source src="{{ source.url }}" type="{{ source.mime_type }}">
        {% endfor %}
        Your browser does not support the video tag.
      </video>
    {% endif %}
  </div>
  
  <div class="adedayo-video-hero-S7DH3G-overlay">
    <h1 class="adedayo-video-hero-B1NM6K-text{% if block.settings.show_heading_on_mobile %} adedayo-video-hero-Z8JV5Q-show-on-mobile{% else %} adedayo-video-hero-X3LF9H-hide-on-mobile{% endif %}" style="color: {{ block.settings.heading_color }};">
      {{ block.settings.heading }}
    </h1>
    <p class="adedayo-video-hero-E4PW2T-subtext{% if block.settings.show_subtext_on_mobile %} adedayo-video-hero-G6RX8C-show-on-mobile{% else %} adedayo-video-hero-M1HJ7N-hide-on-mobile{% endif %}" style="color: {{ block.settings.subtext_color }};">
      {{ block.settings.subtext }}
    </p>
    <div class="adedayo-video-hero-U9KF5L-button-container">
      <a href="{{ block.settings.button_link }}" class="adedayo-video-hero-R2VZ6Y-button{% if block.settings.enable_rounded_button %} adedayo-video-hero-T8XQ1W-rounded-button{% endif %}{% if block.settings.show_button_on_mobile %} adedayo-video-hero-P6CJ3S-show-on-mobile{% else %} adedayo-video-hero-N8BH1D-hide-on-mobile{% endif %}" style="background-color: {{ block.settings.button_color }}; color: {{ block.settings.button_text_color }};" onmouseover="this.style.backgroundColor='{{ block.settings.button_hover_color }}'; this.style.color='{{ block.settings.button_hover_text_color }}';" onmouseout="this.style.backgroundColor='{{ block.settings.button_color }}'; this.style.color='{{ block.settings.button_text_color }}';">
        {{ block.settings.button_text }}
      </a>
    </div>
  </div>
</div>